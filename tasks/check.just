import 'core.just'

# â–¶ï¸  Run all core quality checks (default)
[default]
all: lock lint deps

# ğŸ”’ Checking uv lock file
lock:
    @header "$(doc check lock)"
    uv lock --locked
    @success "ğŸ Lock file checked!"

# ğŸ§¹ Linting code"
lint:
    @header "$(doc check lint)"
    uv run pre-commit run -a
    @success "ğŸ Linting passed!"


# ğŸª„  Fixing code with ruff
fix:
    @header "$(doc check fix)"
    uv run ruff check --fix .
    @success "ğŸ Fixing passed!"

# ğŸ“¦ Checking dependencies
deps:
    @header "$(doc check deps)"
    uv run deptry .
    @success "ğŸ Dependencies checked!"

# ğŸ” Static type checking
types:
    @header "$(doc check types)"
    uv run ty check src
    @success "ğŸ Static type checking passed!"

# â“ Show help
[private]
help task="":
    @just-help check {{task}}
